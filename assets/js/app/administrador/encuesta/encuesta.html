<header>
  
  <div class="navbar-fixed hide-on-large-only">
    <nav>
      <div class="nav-wrapper">
        <ul class="right">
          <li class="hide-on-small-only">
            <a href="">
              <i class="material-icons">search</i>
            </a>
          </li>
          <li class="hide-on-small-only">
            <a href="">
              <i class="material-icons">perm_identity</i>
            </a>
          </li>
          <li class="toogle-side-nav">
            <a href="" data-activates="slide-menu" class="button-collapse">
              <i class="material-icons">menu</i>
            </a>
          </li>
        </ul>
      </div>
    </nav>
  </div>

  <div id="side-menu" class="side-nav fixed" data-simplebar-direction="vertical" style="width:240px;">
  <ul class="side-nav-main">
    <li class="logo hide-on-med-and-down">
      
    </li>
    <li class="side-nav-inline hide-on-med-only">
      <a href="" class="inline waves-effect">
        <i class="mdi-action-exit-to-app"></i>
      </a>
    </li>
    <li>
      <a href="" class="waves-effect" ui-sref="administrador">
        <i class="material-icons left">home</i>
        <span class="thin">Principal</span>
      </a>
    </li>
    <li>
       <a href="" class="waves-effect" ui-sref="encuesta">
        <i class="material-icons left" >content_paste</i>
        <span class="thin">Encuestas</span>
      </a>
    </li>
  </ul>
    
  </div>
</header>
<main >
  <div class="container">
    <h1 class="thin">Encuestas</h1>
    <div id="encuesta">
      <div class="row">
        <div class="col s12 m12 l12">
          <nav class="grey darken-3">
            <div class="nav-wrapper">
              

              <ul class="right hide-on-med-and-down">
                <li >
                  <input type="search" placeholder="Buscar">
                </li>
                <li><a ><i class="material-icons" >search</i></a></li>
                <li><a href="badges.html"><i class="material-icons">view_module</i></a></li>
                <li><a href="collapsible.html"><i class="material-icons">refresh</i></a></li>
                <li><a href="mobile.html"><i class="material-icons">more_vert</i></a></li>
              </ul>
            </div>
          </nav>
        </div>
      </div>

      <h3 ng-show="vm.encuestas.length == 0" class="thin">No hay encuestas</h3>

      <div ng-show="vm.encuestas" class="row encuesta-encuesta-row-card" ng-repeat="encuesta in vm.encuestas">
        <div class="col s12 m6 l6" ng-repeat="e in encuesta">
          
          <div class="card">
            <div class="card-content">
              <span class="card-title thin">{{e.nombre}}</span>
              <div class="encuesta-encuesta-card">
                <div class="row">
                  <div class="col s8 m8 l8">
                    <p class="thin">
                      {{e.descripcion}}
                    </p>
                  </div>
                  <div class="col s4 m4 l4">
                    <div class="encuesta-encuesta-card-iconos">
                      <ul class="right">
                        <li>
                          <i class="material-icons pointer tooltipped dropdown-button" data-position="right" data-delay="50" data-tooltip="Opciones" data-beloworigin="false" data-activates='dropdown-{{e.id}}' >more_vert</i>
                        </li>
                        <li>
                          <i class="material-icons pointer tooltipped " data-position="right" data-delay="50" data-tooltip="Compartir encuesta">link</i>
                        </li>
                        <li>
                          <i class="material-icons pointer tooltipped"  ng-click="vm.btnAgregarPreguntas(e.id)" data-position="right" data-delay="50" data-tooltip="Agregar preguntas">help_outline</i>
                        </li>
                        <li>
                          <i class="material-icons pointer tooltipped" data-position="right" data-delay="50" data-tooltip="Mostrar estadísticas">show_chart</i>
                        </li>
                      </ul>
                        
                      

                    </div>
                    <!-- dropdown-->
                      <ul id='dropdown-{{e.id}}' class='dropdown-content dropdown-width'>
                        <li><a ng-click="vm.btnModalRespuestas(i)">Publicar encuesta</a></li>
                        </li>
                        <li class="divider"></li>
                        <li><a ng-click="vm.btnModalEncuesta(e)">Editar</a></li>
                        <li><a href="#!">Eliminar</a></li>
                      </ul>
                  </div>
                </div>
              </div>
              
            </div>
            <div class="card-action">
              <span class="thin">{{e.fechaInicio | date:'dd MMMM, yyyy'}}</span>
                   
            </div>
          </div>

        </div>
        <div class="col s12 m6 l6">
          
        </div>
      </div>


       

    </div>

    <div class="fixed-action-btn" style="bottom: 45px; right: 24px;">
    <a class="btn-floating btn-large grey darken-3">
      <i class="large material-icons">create</i>
    </a>
    <ul>
      <li><a class="btn-floating grey darken-1" ng-click="vm.btnModalEncuesta({})"><i class="material-icons">insert_chart</i></a></li>
      <li><a class="btn-floating  grey darken-2"><i class="material-icons">format_quote</i></a></li>
    </ul>
  </div>
    
    
  </div>
  
  <!-- Modales -->
  <!--Modal encuesta -->

  <div id="modalEncuesta" class="modal modal-fixed-footer modalEncuesta" ng-form="formEncuesta">
    <div class="modal-content">

      <h5 class="condensed grey-text text-darken-3 ">{{vm.encuesta.id ?  'Actualizar encuesta' :'Crear encuesta'}}</h5>
      <div class="row">
        <div class="col s12">
          <div class="row">

            <div class="input-field col s12">
              <input ng-model="vm.encuesta.nombre" id="nombre_encuesta" type="text" class="validate" required>
              <label class="thin" for="nombre_encuesta">Nombre de la encuesta</label>
            </div>

            <div class="input-field col s12">
              <textarea ng-model="vm.encuesta.descripcion"id="descripcion_encuesta" class="materialize-textarea"></textarea>
              <label class="thin" for="descripcion_encuesta">Escribe la descripción de la encuesta</label>
            </div>
            
            <div class="input-field col s12" >
              <input input-date required
                type="text"
                name="fechaInicio_encuesta"
                id="inputCreated"
                ng-model="vm.encuesta.fechaInicio"
                container=""
                format="yyyy-mm-dd"
                months-full="{{ vm.month }}"
                months-short="{{ vm.monthShort }}"
                weekdays-full="{{ vm.weekdaysFull }}"
                weekdays-short="{{ vm.weekdaysShort }}"
                weekdays-letter="{{ vm.weekdaysLetter }}"
                disable="disable"
                min="{{ vm.minDate }}"
                max="{{ vm.maxDate }}"
                today="vm.today"
                clear="vm.clear"
                close="vm.close"
                select-years="15"
                on-start="onStart()"
                on-render="onRender()"
                on-open="onOpen()"
                on-close="onClose()"
                on-set="onSet()"
                on-stop="onStop()" />
              <label class="thin" for="fechaInicio_encuesta">Fecha de inicio</label>
            </div>

            <div class="input-field col s12" >
              <input input-date required
                type="text"
                name="fechaTermino_encuesta"
                id="inputCreated"
                ng-model="vm.encuesta.fechaTermino"
                container=""
                format="yyyy-mm-dd"
                months-full="{{ vm.month }}"
                months-short="{{ vm.monthShort }}"
                weekdays-full="{{ vm.weekdaysFull }}"
                weekdays-short="{{ vm.weekdaysShort }}"
                weekdays-letter="{{ vm.weekdaysLetter }}"
                disable="disable"
                min="{{ vm.minDate }}"
                max="{{ vm.maxDate }}"
                today="vm.today"
                clear="vm.clear"
                close="vm.close"
                select-years="15"
                on-start="onStart()"
                on-render="onRender()"
                on-open="onOpen()"
                on-close="onClose()"
                on-set="onSet()"
                on-stop="onStop()" />
              <label class="thin" for="fechaTermino_encuesta">Fecha de termino</label>
            </div>
            
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <a ng-hide="vm.encuesta.id" ng-disabled="formEncuesta.$invalid"  ng-click="vm.btnCrearEncuesta(vm.encuesta)" class="waves-effect waves-light btn grey darken-3"><i class="material-icons right ">send</i>Guardar encuesta</a>

       <a ng-show="vm.encuesta.id" ng-disabled="formEncuesta.$invalid"  ng-click="vm.btnActualizarEncuesta(vm.encuesta)" class="waves-effect waves-light btn grey darken-3"><i class="material-icons right ">send</i>Guardar encuesta</a>

      <a style="margin-right:10px" class="modal-action modal-close waves-effect waves-light btn white grey-text text-darken-3"><i class="material-icons right ">close</i>Cancelar</a>

    </div>
  </div>


  
</main>

<footer>
  
</footer>